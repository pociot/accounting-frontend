language: node_js
node_js:
- stable

cache:
  directories:
  - node_modules

branches:
  only:
  - master

addons:
  sonarcloud:
    organization: pociot-github
    token:
      secure: uwhaSuCM2uLYRtv5bd2gZHJfpkEx2rgzEvZWEiWho1elDqynR5Hrhg+xs2iIaxBRdhntuW9KXVhjXgkctlog1iNUOCafuembAF3WP5GsN1BykLVP+fUqsEhmIjATXG1LWmeaABcfaElQajwHyfdpbLcwH8fU4OOc9uA7ChTE0iK8weBmTSaJSOUdKhDn1+rilkPLkBegEsFa/sAl8gOb0/7sXBlbWB5gZzXeo+I33y0wuNYPlLId/HeUVh2b40p0dcDkqDFxaQ1pUsxo6EHvJ6sIghAw4si/tJZ5fRH7chlF+R4R08SGs2Xt0XYSbWjr/wH+6qiethtvpPDO/j0qaQgi9OyIiUtc89Zlf1/1H/C7vrG56lDH7etsEybkLhHrgYGw6oPv8p+VJz0N/uwT9jsqpf53LwqaF3ytTocTFcnbqD/vlPuOrazaibALfSRLHvCfcxoYSmZfPF60XdbX9lWPU3D7gD8VV4GJ0t1Y8PDWgujmd9YDxpUPdzZucAkiLZ97Tdi/EpG02oT7e5PiW+qdHNx5Lx9PLO2XK25wF2fDV7L+mipP2HbPWeBQQPuiV1sJZq0w5ee9L6pIhiFi6FZ6Cm0Vttr9bR9h9OTC9xhaBvW2G3v+XakEUIOGZuaXxZr5fprs0deAZsAxHOuBMtduMb7wCKbUT+RPL0lF9QQ=

script:
- yarn run build
- sonar-scanner

deploy:
  provider: heroku
  api_key:
    secure: ZjTpP5Vid91JGh3cPnOo62cwUA8icLU+phQqziLw6CBYzr+2hI61YznEAy4tT8Aj9AsPV0msep+9XTfFnOcOFhir+wTQxCYePjtITsFEvxxfOkVLYUolH5Zu92ndtZswi8DqpS/NXUIV5+OJAF1mxafcCBoRx85acjj0JjaZ6gbo1Pj/E7xBEPhxpppEh8od+xFH5Wxipn6MFUXWJtTdQSAbGMtUqEszEDmhbm6WFO2wKbPeCsa7A3T7l6ZudgR/+v3KEy0G54HZn3danrfMniSkn0M1WD/Zeq086ZyCX3ylWaOLS1KToih7A0uqKilTOIZwACP+yjEohrJz+3U34r2DnffCzuSXNgHwXNjlTIrbfwsPBH1NzT07kRoSs3LTmOsCBzwrYI+nK7yZmMK5sSo4AsOmUlWweLzDPSY3VpKNXxhpJUZIO4pNvV8i2f9VssvPjoYRkhEAktCD48+pYASU/qQ21Zv2ruk3KkvTLd/bTQp91BzRHF+TrhWk+GUgrPVQbqjxSeNwfRuqELJlz40D3gosyfR7PM9pXwbPERlr5T0+giqlLbqUvDWzLGDBPAK47TyLmpObAa8f0h+jTVuzWCrX3A1UjHQ3xy1vfEIOC9tQDtYBLvOz43wRO5pcHcsLbNRn/bJw363pCVyDG4waoIeGA8UOtY/9LQ8YO/w=
  app: hcb-frontend-kpociot
  on:
    repo: pociot/hcb-frontend
